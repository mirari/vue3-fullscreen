var e=Object.defineProperty,t=Object.defineProperties,l=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,r=(t,l,n)=>l in t?e(t,l,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[l]=n,i=(e,t)=>{for(var l in t||(t={}))s.call(t,l)&&r(e,l,t[l]);if(n)for(var l of n(t))o.call(t,l)&&r(e,l,t[l]);return e},c=(e,n)=>t(e,l(n));import{d as a,r as u,a as p,c as d,w as f,t as m,s as h,b,e as y,f as g,m as v,T as x,o as k,g as O,v as w,h as F,p as E,i as _,j as C,k as j,l as S,n as V,q,F as I,u as P,x as L}from"./vendor.58e28357.js";const B=h;var U=a({props:{modelValue:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},exitOnClickWrapper:{type:Boolean,default:!0},fullscreenClass:{type:String,default:"fullscreen"},pageOnly:{type:Boolean,default:!1},teleport:{type:Boolean,default:!1}},emits:["change","update:modelValue","update:fullscreen"],setup(e,{emit:t}){const l=u(),n=p({isFullscreen:!1,isEnabled:B.isEnabled}),s=d((()=>e.pageOnly||!B.isEnabled)),o=d((()=>(s.value||e.teleport)&&n.isFullscreen?{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}:void 0));function r(){t("change",n.isFullscreen),t("update:modelValue",n.isFullscreen),t("update:fullscreen",n.isFullscreen)}function a(){B.isFullscreen||B.off("change",a),n.isFullscreen=B.isFullscreen,r()}function h(e){"Escape"===e.key&&y()}function b(){s.value?(n.isFullscreen=!0,r(),document.removeEventListener("keyup",h),document.addEventListener("keyup",h)):(B.off("change",a),B.on("change",a),B.request(e.teleport?document.body:l.value))}function y(){n.isFullscreen&&(s.value?(n.isFullscreen=!1,r(),document.removeEventListener("keyup",h)):B.exit())}return f((()=>e.fullscreen),(e=>{e!==n.isFullscreen&&(e?b():y())})),f((()=>e.modelValue),(e=>{e!==n.isFullscreen&&(e?b():y())})),c(i({wrapper:l,wrapperStyle:o},m(n)),{toggle:function(e){void 0===e?n.isFullscreen?y():b():e?b():y()},request:b,exit:y,shadeClick:function(t){t.target===l.value&&e.exitOnClickWrapper&&y()}})}});U.render=function(e,t,l,n,s,o){return k(),b(x,{to:"body",disabled:!e.teleport||!e.fullscreen},[y("div",v({ref:"wrapper"},e.$attrs,{style:e.wrapperStyle,class:{[e.fullscreenClass]:e.isFullscreen},onClick:t[1]||(t[1]=t=>e.shadeClick(t))}),[g(e.$slots,"default")],16)],8,["disabled"])};const A="undefined"!=typeof window&&null!==window;!function(){if(A&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)return"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get(){return this.intersectionRatio>0}}),!0}();const D=Object.prototype.propertyIsEnumerable,G=Object.getOwnPropertySymbols;function H(e){return"function"==typeof e||"[object Object]"===toString.call(e)}function R(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e}function T(e,...t){if(!H(e))throw new TypeError("expected the first argument to be an object");if(0===t.length||"function"!=typeof Symbol||"function"!=typeof G)return e;for(const l of t){const t=G(l);for(const n of t)D.call(l,n)&&(e[n]=l[n])}return e}function W(e,...t){let l=0;var n;for(("object"==typeof(n=e)?null===n:"function"!=typeof n)&&(e=t[l++]),e||(e={});l<t.length;l++)if(H(t[l])){for(const n of Object.keys(t[l]))R(n)&&(H(e[n])&&H(t[l][n])?W(e[n],t[l][n]):e[n]=t[l][n]);T(e,t[l])}return e}const $=h;class N{constructor(e){this.fullscreenClass="fullscreen",this.teleport=!1,this.pageOnly=!1,e&&W(this,e)}}let z,J;function K(e,t){e.style.position=t.position,e.style.left=t.left,e.style.top=t.top,e.style.width=t.width,e.style.height=t.height}function M(e){const t=e.element;t&&(t.classList.remove(e.options.fullscreenClass),(e.options.teleport||e.options.pageOnly)&&(e.options.teleport&&J&&(J.insertBefore(t,z),J.removeChild(z)),t.__styleCache&&K(t,t.__styleCache)))}const Q={options:new N,element:null,isFullscreen:!1,isEnabled:$.isEnabled,toggle(e,t,l){return void 0===l?this.isFullscreen?this.exit():this.request(e,t):l?this.request(e,t):this.exit()},request(e,t){if(this.isFullscreen)return Promise.resolve();if(e||(e=document.body),this.options=new N(t),e===document.body&&(this.options.teleport=!1),$.isEnabled||(this.options.pageOnly=!0),e.classList.add(this.options.fullscreenClass),this.options.teleport||this.options.pageOnly){const{position:t,left:l,top:n,width:s,height:o}=e.style;e.__styleCache={position:t,left:l,top:n,width:s,height:o},K(e,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"})}if(this.options.teleport&&(J=e.parentNode,J&&(z=document.createComment("fullscreen-token"),J.insertBefore(z,e),document.body.appendChild(e))),this.options.pageOnly){const t=e=>{"Escape"===e.key&&(document.removeEventListener("keyup",t),this.exit())};return this.isFullscreen=!0,this.element=e,document.removeEventListener("keyup",t),document.addEventListener("keyup",t),this.options.callback&&this.options.callback(this.isFullscreen),Promise.resolve()}{const t=()=>{$.isFullscreen||($.off("change",t),M(this)),this.isFullscreen=$.isFullscreen,this.options.teleport?this.element=e||null:this.element=$.element,this.options.callback&&this.options.callback($.isFullscreen)};return $.on("change",t),$.request(this.options.teleport?document.body:e)}},exit(){return this.isFullscreen?this.options.pageOnly?(M(this),this.isFullscreen=!1,this.element=null,this.options.callback&&this.options.callback(this.isFullscreen),Promise.resolve()):$.exit():Promise.resolve()}};var X=a({name:"ComponentExample",components:{fullscreen:U},setup(){const e=p({fullscreen:!1,teleport:!0,pageOnly:!1});return c(i({},m(e)),{toggle:function(){e.fullscreen=!e.fullscreen}})}});const Y=F();E("data-v-74fd138c");const Z={class:"checkbox"},ee=_(" pageOnly "),te={class:"checkbox"},le=_(" teleport "),ne={class:"fullscreen-wrapper"};C();const se=Y(((e,t,l,n,s,o)=>{const r=j("fullscreen");return k(),b("div",null,[y("label",Z,[O(y("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.pageOnly=t),type:"checkbox",name:"button"},null,512),[[w,e.pageOnly]]),ee]),y("label",te,[O(y("input",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.teleport=t),type:"checkbox",name:"button"},null,512),[[w,e.teleport]]),le]),y(r,{modelValue:e.fullscreen,"onUpdate:modelValue":t[4]||(t[4]=t=>e.fullscreen=t),teleport:e.teleport,"page-only":e.pageOnly},{default:Y((()=>[y("div",ne,[y("button",{type:"button",class:"button",onClick:t[3]||(t[3]=(...t)=>e.toggle&&e.toggle(...t))},S(e.fullscreen?"exit fullscreen":"request fullscreen"),1),O(y("img",{src:"//picsum.photos/640/360?random=1"},null,8,["src"]),[[V,!e.fullscreen]]),O(y("img",{src:"//picsum.photos/1280/720?random=1"},null,8,["src"]),[[V,e.fullscreen]])])])),_:1},8,["modelValue","teleport","page-only"])])}));X.render=se,X.__scopeId="data-v-74fd138c";var oe=a({name:"ApiExample",setup(){const e=u(),t=p({fullscreen:!1,teleport:!0,pageOnly:!0});return c(i({root:e},m(t)),{toggle:async function(){await Q.toggle(e.value.querySelector(".fullscreen-wrapper"),{teleport:t.teleport,pageOnly:t.pageOnly,callback:e=>{t.fullscreen=e,console.log(Q.element),console.log(Q.isFullscreen)}}),t.fullscreen=Q.isFullscreen}})}});const re=F();E("data-v-2824897c");const ie={ref:"root"},ce={class:"checkbox"},ae=_(" pageOnly "),ue={class:"checkbox"},pe=_(" teleport "),de={class:"fullscreen-wrapper"};C();const fe=re(((e,t,l,n,s,o)=>(k(),b("div",ie,[y("label",ce,[O(y("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.pageOnly=t),type:"checkbox",name:"button"},null,512),[[w,e.pageOnly]]),ae]),y("label",ue,[O(y("input",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.teleport=t),type:"checkbox",name:"button"},null,512),[[w,e.teleport]]),pe]),y("div",de,[y("button",{type:"button",class:"button",onClick:t[3]||(t[3]=(...t)=>e.toggle&&e.toggle(...t))},S(e.fullscreen?"exit fullscreen":"request fullscreen"),1),O(y("img",{src:"//picsum.photos/640/360?random=2"},null,8,["src"]),[[V,!e.fullscreen]]),O(y("img",{src:"//picsum.photos/1280/720?random=2"},null,8,["src"]),[[V,e.fullscreen]])])],512))));oe.render=fe,oe.__scopeId="data-v-2824897c";var me=a({name:"DirectiveExample",directives:{fullscreen:(e,t,l)=>{const r=()=>{let e;const l={teleport:t.modifiers.teleport,pageOnly:t.modifiers.pageOnly};if(t.value)if("string"==typeof t.value)e=t.value;else{const r=t.value,{target:i}=r,c=((e,t)=>{var l={};for(var r in e)s.call(e,r)&&t.indexOf(r)<0&&(l[r]=e[r]);if(null!=e&&n)for(var r of n(e))t.indexOf(r)<0&&o.call(e,r)&&(l[r]=e[r]);return l})(r,["target"]);e=i,W(l,c)}"string"==typeof e&&(e=document.querySelector(e)),Q.toggle(e,l)};e._onClickFullScreen&&e.removeEventListener("click",e._onClickFullScreen),e.addEventListener("click",r),e._onClickFullScreen=r}},setup(){const e=u(),t=p({fullscreen:!1,teleport:!0,pageOnly:!0}),l=d((()=>({callback:e=>{t.fullscreen=e},target:".directive-fullscreen-wrapper",teleport:t.teleport,pageOnly:t.pageOnly})));return c(i({root:e},m(t)),{options:l})}});const he=F();E("data-v-974698d8");const be={ref:"root"},ye={class:"checkbox"},ge=_(" pageOnly "),ve={class:"checkbox"},xe=_(" teleport "),ke={class:"directive-fullscreen-wrapper"};C();const Oe=he(((e,t,l,n,s,o)=>{const r=q("fullscreen");return k(),b("div",be,[y("label",ye,[O(y("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.pageOnly=t),type:"checkbox",name:"button"},null,512),[[w,e.pageOnly]]),ge]),y("label",ve,[O(y("input",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.teleport=t),type:"checkbox",name:"button"},null,512),[[w,e.teleport]]),xe]),y("div",ke,[O(y("button",{type:"button",class:"button"},S(e.fullscreen?"exit fullscreen":"request fullscreen"),513),[[r,e.options]]),O(y("img",{src:"//picsum.photos/640/360?random=3"},null,8,["src"]),[[V,!e.fullscreen]]),O(y("img",{src:"//picsum.photos/1280/720?random=3"},null,8,["src"]),[[V,e.fullscreen]])])],512)}));me.render=Oe,me.__scopeId="data-v-974698d8";var we=a({components:{DirectiveExample:me,ComponentExample:X,ApiExample:oe}});const Fe=y("h1",{class:"title"}," Demo ",-1),Ee=y("hr",null,null,-1),_e={style:{"margin-bottom":"6em"}},Ce=y("h2",{class:"title is-4"}," Component ",-1),je=y("p",{class:"subtitle"},[y("a",{href:"https://github.com/mirari/vue-fullscreen/blob/v3/example/views/example/ComponentExample.vue",target:"_blank"},"Source")],-1),Se=y("h2",{class:"title is-4"}," Api ",-1),Ve=y("p",{class:"subtitle"},[y("a",{href:"https://github.com/mirari/vue-fullscreen/blob/v3/example/views/example/ApiExample.vue",target:"_blank"},"Source")],-1),qe=y("h2",{class:"title is-4"}," Directive ",-1),Ie=y("p",{class:"subtitle"},[y("a",{href:"https://github.com/mirari/vue-fullscreen/blob/v3/example/views/example/DirectiveExample.vue",target:"_blank"},"Source")],-1);we.render=function(e,t,l,n,s,o){const r=j("component-example"),i=j("api-example"),c=j("directive-example");return k(),b("div",null,[Fe,Ee,y("div",_e,[Ce,je,y(r)]),y("div",null,[Se,Ve,y(i)]),y("div",null,[qe,Ie,y(c)])])};var Pe=a({name:"App",components:{Example:we}});const Le=P('<a class="github-fork-ribbon" href="https://github.com/mirari/vue-fullscreen" title="Fork me on GitHub">Fork me on GitHub</a><section class="hero is-primary" style="margin-bottom:2em;"><div class="hero-body"><div class="container"><div class="columns is-vcentered"><div class="column"><p class="title is-1"> vue-fullscreen </p><p class="subtitle is-4"> A simple Vue 3.x component for fullscreen, based on <a href="https://sindresorhus.com/screenfull.js/" target="_blank">screenfull</a></p></div></div></div></div></section>',2),Be={class:"container",style:{"margin-bottom":"30px"}},Ue=P('<footer class="footer"><div class="container"><div class="content has-text-centered"><p><a href="http://mirari.cc" target="_blank" title="mirari.cc"><strong>mirari.cc</strong></a> Â· GitHub <a href="https://github.com/mirari" target="_blank" title="GitHub"> @mirari </a></p></div></div></footer>',1);Pe.render=function(e,t,l,n,s,o){const r=j("example");return k(),b(I,null,[Le,y("div",Be,[y(r)]),Ue],64)};L(Pe).mount("#app");
