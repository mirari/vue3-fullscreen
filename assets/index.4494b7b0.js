var Y=Object.defineProperty,Z=Object.defineProperties;var ee=Object.getOwnPropertyDescriptors;var V=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var j=(e,t,s)=>t in e?Y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,O=(e,t)=>{for(var s in t||(t={}))U.call(t,s)&&j(e,s,t[s]);if(V)for(var s of V(t))T.call(t,s)&&j(e,s,t[s]);return e},w=(e,t)=>Z(e,ee(t));var G=(e,t)=>{var s={};for(var n in e)U.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&V)for(var n of V(e))t.indexOf(n)<0&&T.call(e,n)&&(s[n]=e[n]);return s};var E=(e,t,s)=>(j(e,typeof t!="symbol"?t+"":t,s),s);import{d as _,r as A,a as L,c as P,w as H,t as q,b as te,e as o,f as se,m as ne,T as oe,s as R,o as y,g as F,h as C,i as a,v,j as x,k as le,l as h,n as D,p as b,q as re,F as ie,u as K,x as ce}from"./vendor.3425e16a.js";const ae=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function s(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerpolicy&&(i.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?i.credentials="include":l.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(l){if(l.ep)return;l.ep=!0;const i=s(l);fetch(l.href,i)}};ae();var g=(e,t)=>{for(const[s,n]of t)e[s]=n;return e};const f=R,ue=_({props:{modelValue:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},exitOnClickWrapper:{type:Boolean,default:!0},fullscreenClass:{type:String,default:"fullscreen"},pageOnly:{type:Boolean,default:!1},teleport:{type:Boolean,default:!1}},emits:["change","update:modelValue","update:fullscreen"],setup(e,{emit:t}){const s=A(),n=L({isFullscreen:!1,isEnabled:f.isEnabled}),l=P(()=>e.pageOnly||!f.isEnabled),i=P(()=>(l.value||e.teleport)&&n.isFullscreen?{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}:void 0);function r(){t("change",n.isFullscreen),t("update:modelValue",n.isFullscreen),t("update:fullscreen",n.isFullscreen)}function c(){f.isFullscreen||f.off("change",c),n.isFullscreen=f.isFullscreen,r()}function d(u){u.key==="Escape"&&m()}function Q(u){u===void 0?n.isFullscreen?m():$():u?$():m()}function $(){l.value?(n.isFullscreen=!0,r(),document.removeEventListener("keyup",d),document.addEventListener("keyup",d)):(f.off("change",c),f.on("change",c),f.request(e.teleport?document.body:s.value))}function m(){!n.isFullscreen||(l.value?(n.isFullscreen=!1,r(),document.removeEventListener("keyup",d)):f.exit())}function X(u){u.target===s.value&&e.exitOnClickWrapper&&m()}return H(()=>e.fullscreen,u=>{u!==n.isFullscreen&&(u?$():m())}),H(()=>e.modelValue,u=>{u!==n.isFullscreen&&(u?$():m())}),w(O({wrapper:s,wrapperStyle:i},q(n)),{toggle:Q,request:$,exit:m,shadeClick:X})}});function pe(e,t,s,n,l,i){return y(),te(oe,{to:"body",disabled:!e.teleport||!e.fullscreen},[o("div",ne({ref:"wrapper"},e.$attrs,{style:e.wrapperStyle,class:{[e.fullscreenClass]:e.isFullscreen},onClick:t[0]||(t[0]=r=>e.shadeClick(r))}),[se(e.$slots,"default")],16)],8,["disabled"])}var fe=g(ue,[["render",pe]]);const de=typeof window!="undefined"&&window!==null;ye();const me=Object.prototype.propertyIsEnumerable,M=Object.getOwnPropertySymbols;function B(e){return typeof e=="function"||toString.call(e)==="[object Object]"}function he(e){return typeof e=="object"?e===null:typeof e!="function"}function _e(e){return e!=="__proto__"&&e!=="constructor"&&e!=="prototype"}function ye(){return de&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype?("isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get(){return this.intersectionRatio>0}}),!0):!1}function ve(e,...t){if(!B(e))throw new TypeError("expected the first argument to be an object");if(t.length===0||typeof Symbol!="function"||typeof M!="function")return e;for(const s of t){const n=M(s);for(const l of n)me.call(s,l)&&(e[l]=s[l])}return e}function N(e,...t){let s=0;for(he(e)&&(e=t[s++]),e||(e={});s<t.length;s++)if(B(t[s])){for(const n of Object.keys(t[s]))_e(n)&&(B(e[n])&&B(t[s][n])?N(e[n],t[s][n]):e[n]=t[s][n]);ve(e,t[s])}return e}const p=R;class W{constructor(t){E(this,"callback");E(this,"fullscreenClass","fullscreen");E(this,"teleport",!1);E(this,"pageOnly",!1);t&&N(this,t)}}let I,k;function z(e,t){e.style.position=t.position,e.style.left=t.left,e.style.top=t.top,e.style.width=t.width,e.style.height=t.height}function J(e){const t=e.element;t&&(t.classList.remove(e.options.fullscreenClass),(e.options.teleport||e.options.pageOnly)&&(e.options.teleport&&k&&(k.insertBefore(t,I),k.removeChild(I)),t.__styleCache&&z(t,t.__styleCache)))}const S={options:new W,element:null,isFullscreen:!1,isEnabled:p.isEnabled,toggle(e,t,s){return s===void 0?this.isFullscreen?this.exit():this.request(e,t):s?this.request(e,t):this.exit()},request(e,t){if(this.isFullscreen)return Promise.resolve();if(e||(e=document.body),this.options=new W(t),e===document.body&&(this.options.teleport=!1),p.isEnabled||(this.options.pageOnly=!0),e.classList.add(this.options.fullscreenClass),this.options.teleport||this.options.pageOnly){const{position:s,left:n,top:l,width:i,height:r}=e.style;e.__styleCache={position:s,left:n,top:l,width:i,height:r},z(e,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"})}if(this.options.teleport&&(k=e.parentNode,k&&(I=document.createComment("fullscreen-token"),k.insertBefore(I,e),document.body.appendChild(e))),this.options.pageOnly){const s=n=>{n.key==="Escape"&&(document.removeEventListener("keyup",s),this.exit())};return this.isFullscreen=!0,this.element=e,document.removeEventListener("keyup",s),document.addEventListener("keyup",s),this.options.callback&&this.options.callback(this.isFullscreen),Promise.resolve()}else{const s=()=>{p.isFullscreen||(p.off("change",s),J(this)),this.isFullscreen=p.isFullscreen,this.options.teleport?this.element=e||null:this.element=p.element,this.options.callback&&this.options.callback(p.isFullscreen)};return p.on("change",s),p.request(this.options.teleport?document.body:e)}},exit(){return this.isFullscreen?this.options.pageOnly?(J(this),this.isFullscreen=!1,this.element=null,this.options.callback&&this.options.callback(this.isFullscreen),Promise.resolve()):p.exit():Promise.resolve()}},be=(e,t,s)=>{const n=()=>{let l;const i={teleport:t.modifiers.teleport,pageOnly:t.modifiers.pageOnly};if(t.value)if(typeof t.value=="string")l=t.value;else{const r=t.value,{target:c}=r,d=G(r,["target"]);l=c,N(i,d)}typeof l=="string"&&(l=document.querySelector(l)),S.toggle(l,i)};e._onClickFullScreen&&e.removeEventListener("click",e._onClickFullScreen),e.addEventListener("click",n),e._onClickFullScreen=n};const ge=_({name:"ComponentExample",components:{fullscreen:fe},setup(){const e=L({fullscreen:!1,teleport:!0,pageOnly:!1});function t(){e.fullscreen=!e.fullscreen}return w(O({},q(e)),{toggle:t})}}),ke={class:"checkbox"},$e=h(" pageOnly "),Oe={class:"checkbox"},we=h(" teleport "),Ee={class:"fullscreen-wrapper"},Fe=["src"],Ce=["src"];function xe(e,t,s,n,l,i){const r=F("fullscreen");return y(),C("div",null,[o("label",ke,[a(o("input",{"onUpdate:modelValue":t[0]||(t[0]=c=>e.pageOnly=c),type:"checkbox",name:"button"},null,512),[[v,e.pageOnly]]),$e]),o("label",Oe,[a(o("input",{"onUpdate:modelValue":t[1]||(t[1]=c=>e.teleport=c),type:"checkbox",name:"button"},null,512),[[v,e.teleport]]),we]),x(r,{modelValue:e.fullscreen,"onUpdate:modelValue":t[3]||(t[3]=c=>e.fullscreen=c),teleport:e.teleport,"page-only":e.pageOnly},{default:le(()=>[o("div",Ee,[o("button",{type:"button",class:"button",onClick:t[2]||(t[2]=(...c)=>e.toggle&&e.toggle(...c))},D(e.fullscreen?"exit fullscreen":"request fullscreen"),1),a(o("img",{src:"//picsum.photos/640/360?random=1"},null,8,Fe),[[b,!e.fullscreen]]),a(o("img",{src:"//picsum.photos/1280/720?random=1"},null,8,Ce),[[b,e.fullscreen]])])]),_:1},8,["modelValue","teleport","page-only"])])}var Se=g(ge,[["render",xe],["__scopeId","data-v-74fd138c"]]);const Ve=_({name:"ApiExample",setup(){const e=A(),t=L({fullscreen:!1,teleport:!0,pageOnly:!0});async function s(){await S.toggle(e.value.querySelector(".fullscreen-wrapper"),{teleport:t.teleport,pageOnly:t.pageOnly,callback:n=>{t.fullscreen=n,console.log(S.element),console.log(S.isFullscreen)}}),t.fullscreen=S.isFullscreen}return w(O({root:e},q(t)),{toggle:s})}}),Le={ref:"root"},qe={class:"checkbox"},Be=h(" pageOnly "),Ie={class:"checkbox"},je=h(" teleport "),Ae={class:"fullscreen-wrapper"},Pe=["src"],De=["src"];function Ne(e,t,s,n,l,i){return y(),C("div",Le,[o("label",qe,[a(o("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>e.pageOnly=r),type:"checkbox",name:"button"},null,512),[[v,e.pageOnly]]),Be]),o("label",Ie,[a(o("input",{"onUpdate:modelValue":t[1]||(t[1]=r=>e.teleport=r),type:"checkbox",name:"button"},null,512),[[v,e.teleport]]),je]),o("div",Ae,[o("button",{type:"button",class:"button",onClick:t[2]||(t[2]=(...r)=>e.toggle&&e.toggle(...r))},D(e.fullscreen?"exit fullscreen":"request fullscreen"),1),a(o("img",{src:"//picsum.photos/640/360?random=2"},null,8,Pe),[[b,!e.fullscreen]]),a(o("img",{src:"//picsum.photos/1280/720?random=2"},null,8,De),[[b,e.fullscreen]])])],512)}var Ue=g(Ve,[["render",Ne],["__scopeId","data-v-2824897c"]]);const Te=_({name:"DirectiveExample",directives:{fullscreen:be},setup(){const e=A(),t=L({fullscreen:!1,teleport:!0,pageOnly:!0}),s=P(()=>({callback:n=>{t.fullscreen=n},target:".directive-fullscreen-wrapper",teleport:t.teleport,pageOnly:t.pageOnly}));return w(O({root:e},q(t)),{options:s})}}),Ge={ref:"root"},He={class:"checkbox"},Re=h(" pageOnly "),Ke={class:"checkbox"},Me=h(" teleport "),We={class:"directive-fullscreen-wrapper"},ze={type:"button",class:"button"},Je=["src"],Qe=["src"];function Xe(e,t,s,n,l,i){const r=re("fullscreen");return y(),C("div",Ge,[o("label",He,[a(o("input",{"onUpdate:modelValue":t[0]||(t[0]=c=>e.pageOnly=c),type:"checkbox",name:"button"},null,512),[[v,e.pageOnly]]),Re]),o("label",Ke,[a(o("input",{"onUpdate:modelValue":t[1]||(t[1]=c=>e.teleport=c),type:"checkbox",name:"button"},null,512),[[v,e.teleport]]),Me]),o("div",We,[a(o("button",ze,[h(D(e.fullscreen?"exit fullscreen":"request fullscreen"),1)],512),[[r,e.options]]),a(o("img",{src:"//picsum.photos/640/360?random=3"},null,8,Je),[[b,!e.fullscreen]]),a(o("img",{src:"//picsum.photos/1280/720?random=3"},null,8,Qe),[[b,e.fullscreen]])])],512)}var Ye=g(Te,[["render",Xe],["__scopeId","data-v-974698d8"]]);const Ze=_({components:{DirectiveExample:Ye,ComponentExample:Se,ApiExample:Ue}}),et=o("h1",{class:"title"}," Demo ",-1),tt=o("hr",null,null,-1),st={style:{"margin-bottom":"6em"}},nt=o("h2",{class:"title is-4"}," Component ",-1),ot=o("p",{class:"subtitle"},[o("a",{href:"https://github.com/mirari/vue-fullscreen/blob/v3/example/views/example/ComponentExample.vue",target:"_blank"},"Source")],-1),lt=o("h2",{class:"title is-4"}," Api ",-1),rt=o("p",{class:"subtitle"},[o("a",{href:"https://github.com/mirari/vue-fullscreen/blob/v3/example/views/example/ApiExample.vue",target:"_blank"},"Source")],-1),it=o("h2",{class:"title is-4"}," Directive ",-1),ct=o("p",{class:"subtitle"},[o("a",{href:"https://github.com/mirari/vue-fullscreen/blob/v3/example/views/example/DirectiveExample.vue",target:"_blank"},"Source")],-1);function at(e,t,s,n,l,i){const r=F("component-example"),c=F("api-example"),d=F("directive-example");return y(),C("div",null,[et,tt,o("div",st,[nt,ot,x(r)]),o("div",null,[lt,rt,x(c)]),o("div",null,[it,ct,x(d)])])}var ut=g(Ze,[["render",at]]);const pt=_({name:"App",components:{Example:ut}}),ft=K('<a class="github-fork-ribbon" href="https://github.com/mirari/vue-fullscreen" title="Fork me on GitHub">Fork me on GitHub</a><section class="hero is-primary" style="margin-bottom:2em;"><div class="hero-body"><div class="container"><div class="columns is-vcentered"><div class="column"><p class="title is-1"> vue-fullscreen </p><p class="subtitle is-4"> A simple Vue 3.x component for fullscreen, based on <a href="https://sindresorhus.com/screenfull.js/" target="_blank">screenfull</a></p></div></div></div></div></section>',2),dt={class:"container",style:{"margin-bottom":"30px"}},mt=K('<footer class="footer"><div class="container"><div class="content has-text-centered"><p><a href="http://mirari.cc" target="_blank" title="mirari.cc"><strong>mirari.cc</strong></a> \xB7 GitHub <a href="https://github.com/mirari" target="_blank" title="GitHub"> @mirari </a></p></div></div></footer>',1);function ht(e,t,s,n,l,i){const r=F("example");return y(),C(ie,null,[ft,o("div",dt,[x(r)]),mt],64)}var _t=g(pt,[["render",ht]]);const yt=ce(_t);yt.mount("#app");
